<div class="header">
    <button class="header__burger hamburger hamburger--arrow" type="button" id="navigation-button"
        aria-controls="navigation-menu" aria-haspopup="true" aria-expanded="false">
        <span class="sr-only" id="navigation-label">Toggle site navigation</span>
        <span class="hamburger-box" aria-hidden>
            <span class="hamburger-inner"></span>
        </span>
    </button>
</div>

<nav class="navigation" id="navigation-menu" tabindex="-1" aria-label="Site navigation menu">
    {% for section in collections.postTree %}
        <section class="navigation__section">
            {% set section_id = 'section-' + section.name %}
            {% if section.title %}
                <h4 class="navigation__headline" id="{{ section_id }}">
                    {{- section.title -}}
                </h4>
            {% endif %}
            <ol class="navigation__list" aria-labelledby="{{ section_id }}">
                {% for post in section.posts %}
                    <li class="navigation__item">
                        <a href="{{ post.url }}" class="navigation__link{{ " navigation__link--active" if post.url === page.url }}">
                            {{- post.data.title or post.url -}}
                        </a>
                        {% if post.url === page.url %}
                            {{ content | toc('{"tags":["h2"],"wrapper":"div","wrapperClass":"navigation__subnav"}') | safe }}
                        {% endif %}
                    </li>
                {% endfor %}
            </ol>
        </section>
    {% endfor %}
</nav>
